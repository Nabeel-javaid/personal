{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\src\\\\components\\\\seller\\\\SellerInfo.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Store } from '../../Store';\nimport SellerProduct from './SellerProduct';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SellerInfo = () => {\n  _s();\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart,\n    wish\n  } = state;\n  const [seller, setSeller] = useState([]);\n  const [product, setProduct] = useState([]);\n  const params = useParams();\n  const {\n    id\n  } = params;\n  const existUser = localStorage.getItem(\"userInfo\");\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await axios.get(`/api/users/user/${id}`);\n        console.log(result.data);\n        setSeller(result.data);\n        const res = await axios.get(`/api/products/seller/${id}`);\n        console.log(res.data);\n        setProduct(res.data);\n      } catch (err) {\n        console.log(\"Error!\");\n      }\n    };\n    fetchData();\n  }, [id]);\n  const handlerFollow = () => {\n    if (!existUser) {\n      window.alert('Sorry. You must login.');\n    } else {\n      //If there is a user I am already following (localstorage), his id, from db\n      const existItem = wish.wishItems.find(x => x._id === seller._id);\n      const quantity = existItem ? existItem.quantity : 1;\n      if (existItem) {\n        window.alert('Sorry. You are already following this user.');\n        return;\n      }\n      ctxDispatch({\n        type: 'WISH_ADD_ITEM',\n        payload: {\n          ...seller,\n          quantity\n        }\n      });\n    }\n  };\n  const handlerUnfollow = seller => {\n    ctxDispatch({\n      type: 'WISH_REMOVE_ITEM',\n      payload: seller\n    });\n  };\n\n  //if exists seller\n  const sellerExists = wish.wishItems.find(x => x._id === seller._id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"seller-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seller-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seller-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seller-header\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: seller.image,\n            alt: seller.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seller-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: seller.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: seller.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: seller.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: seller.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seller-footer\",\n          children: existUser && sellerExists ? /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => handlerUnfollow(seller),\n            className: \"unfollow\",\n            children: \"Unfollow\"\n          }, seller._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 47\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: handlerFollow,\n            className: \"follow\",\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 151\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seller-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"seller-title\",\n        children: [\"All Products of the Seller \", seller.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), product.length === 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"info\",\n        children: \"There are currently no products!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 36\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seller-products\",\n        children: /*#__PURE__*/_jsxDEV(SellerProduct, {\n          product: product\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(SellerInfo, \"au43RgwkueUkH1ieosea3Yu353M=\", false, function () {\n  return [useParams];\n});\n_c = SellerInfo;\nexport default SellerInfo;\nvar _c;\n$RefreshReg$(_c, \"SellerInfo\");","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","useParams","Store","SellerProduct","SellerInfo","state","dispatch","ctxDispatch","cart","wish","seller","setSeller","product","setProduct","params","id","existUser","localStorage","getItem","fetchData","result","get","console","log","data","res","err","handlerFollow","window","alert","existItem","wishItems","find","x","_id","quantity","type","payload","handlerUnfollow","sellerExists","image","name","email","phone","address","length"],"sources":["C:/Users/Ali Hamza/Desktop/nabeel_blo/frontend/src/components/seller/SellerInfo.jsx"],"sourcesContent":["import axios from 'axios'\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { Store } from '../../Store'\nimport SellerProduct from './SellerProduct'\n\nconst SellerInfo = () => {\n\n    const { state, dispatch: ctxDispatch } = useContext(Store);\n    const {cart, wish} = state;\n\n    const [seller, setSeller] = useState([]);\n    const [product, setProduct] = useState([]);\n\n    const params = useParams();\n    const {id} = params;\n\n    const existUser = localStorage.getItem(\"userInfo\");\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n        \n      try {\n        const result = await axios.get(`/api/users/user/${id}`);\n        console.log(result.data);\n        setSeller(result.data)\n\n\n        const res = await axios.get(`/api/products/seller/${id}`);\n        console.log(res.data);\n        setProduct(res.data)\n\n\n      } catch(err) {\n        console.log(\"Error!\");\n      }\n      \n    }\n    fetchData();\n\n  }, [id]);\n\n  const handlerFollow = () => {\n\n    if(!existUser) {\n      window.alert('Sorry. You must login.');\n  } else {\n\n      //If there is a user I am already following (localstorage), his id, from db\n      const existItem = wish.wishItems.find((x) => x._id === seller._id);\n        const quantity = existItem ? existItem.quantity : 1;\n        \n        if (existItem) {\n            window.alert('Sorry. You are already following this user.');\n            return;\n        }\n        \n        ctxDispatch({\n          type: 'WISH_ADD_ITEM',\n          payload: { ...seller, quantity },\n        });\n    \n    }\n\n  }\n\n  const handlerUnfollow = (seller) => {\n\n    ctxDispatch({\n        type: 'WISH_REMOVE_ITEM',\n        payload: seller\n    });\n\n}\n\n  //if exists seller\n  const sellerExists = wish.wishItems.find((x) => x._id === seller._id);\n    \n\n  return (\n    <div className='seller-row'>\n      <div className=\"seller-col\">\n        <div className=\"seller-info\">\n            <div className=\"seller-header\">\n                <img src={seller.image} alt={seller.name} />\n            </div>\n            <div className=\"seller-body\">\n                <span>{seller.name}</span>\n                <span>{seller.email}</span>\n                <span>{seller.phone}</span>\n                <span>{seller.address}</span>\n            </div>\n            <div className=\"seller-footer\">\n                {existUser && sellerExists ? (<span key={seller._id} onClick={() => handlerUnfollow(seller)} className='unfollow'>Unfollow</span>) : (<span onClick={handlerFollow} className='follow'>Follow</span>)}\n                \n            </div>\n        </div>\n      </div>\n      <div className=\"seller-col\">\n          <h2 className='seller-title'>All Products of the Seller {seller.name}</h2>\n          {product.length === 0 ? (<h3 className='info'>There are currently no products!</h3>) : (\n\n            <div className=\"seller-products\">\n                <SellerProduct product={product} />\n            </div>\n\n          )}\n            \n      </div>\n    </div>\n  )\n}\n\nexport default SellerInfo\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}