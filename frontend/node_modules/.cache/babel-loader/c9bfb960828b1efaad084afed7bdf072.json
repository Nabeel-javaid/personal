{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\src\\\\Store.js\";\nimport React from \"react\";\nimport { createContext, useReducer } from \"react\";\nexport var Store = createContext();\nvar initialState = {\n  userInfo: localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null,\n  cart: {\n    cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\n  },\n  wish: {\n    wishItems: localStorage.getItem('wishItems') ? JSON.parse(localStorage.getItem('wishItems')) : [] //empty wish default\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'CART_ADD_ITEM':\n      {\n        //add to cart\n        var newItem = action.payload;\n        var existItem = state.cart.cartItems.find(function (item) {\n          return item._id === newItem._id;\n        });\n        var cartItems = existItem ? state.cart.cartItems.map(function (item) {\n          return item._id === existItem._id ? newItem : item;\n        }) : [].concat(_toConsumableArray(state.cart.cartItems), [newItem]);\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return _objectSpread({}, state, {\n          cart: _objectSpread({}, state.cart, {\n            cartItems: cartItems\n          })\n        });\n      }\n    case 'WISH_ADD_ITEM':\n      {\n        //add to wish\n        var _newItem = action.payload;\n        var _existItem = state.wish.wishItems.find(function (item) {\n          return item._id === _newItem._id;\n        });\n        var wishItems = _existItem ? state.wish.wishItems.map(function (item) {\n          return item._id === _existItem._id ? _newItem : item;\n        }) : [].concat(_toConsumableArray(state.wish.wishItems), [_newItem]);\n        localStorage.setItem('wishItems', JSON.stringify(wishItems));\n        return _objectSpread({}, state, {\n          wish: _objectSpread({}, state.wish, {\n            wishItems: [].concat(_toConsumableArray(state.wish.wishItems), [action.payload])\n          })\n        });\n      }\n    case 'CART_REMOVE_ITEM':\n      {\n        var _cartItems = state.cart.cartItems.filter(function (item) {\n          return item._id !== action.payload._id;\n        });\n        localStorage.setItem('cartItems', JSON.stringify(_cartItems));\n        return _objectSpread({}, state, {\n          cart: _objectSpread({}, state.cart, {\n            cartItems: _cartItems\n          })\n        });\n      }\n    case 'CART_CLEAR':\n      return _objectSpread({}, state, {\n        cart: _objectSpread({}, state.cart, {\n          cartItems: []\n        })\n      });\n    case 'WISH_REMOVE_ITEM':\n      {\n        var _wishItems = state.wish.wishItems.filter(function (item) {\n          return item._id !== action.payload._id;\n        });\n        localStorage.setItem('wishItems', JSON.stringify(_wishItems));\n        return _objectSpread({}, state, {\n          wish: _objectSpread({}, state.wish, {\n            wishItems: _wishItems\n          })\n        });\n      }\n    default:\n      return state;\n  }\n}\nexport function StoreProvider(props) {\n  var _useReducer = useReducer(reducer, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var value = {\n    state: state,\n    dispatch: dispatch\n  };\n  return /*#__PURE__*/React.createElement(Store.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }\n  }, props.children);\n}","map":{"version":3,"names":["React","createContext","useReducer","Store","initialState","userInfo","localStorage","getItem","JSON","parse","cart","cartItems","wish","wishItems","reducer","state","action","type","newItem","payload","existItem","find","item","_id","map","setItem","stringify","filter","StoreProvider","props","dispatch","value","children"],"sources":["C:/Users/Ali Hamza/Desktop/nabeel_blo/frontend/src/Store.js"],"sourcesContent":["import React from \"react\";\nimport { createContext, useReducer } from \"react\";\n\n\nexport const Store = createContext();\n\nconst initialState = {\n    userInfo: localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null,\n    cart: {\n        cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\n    },\n    wish: {\n        wishItems: localStorage.getItem('wishItems') ? JSON.parse(localStorage.getItem('wishItems')) : [], //empty wish default\n    }\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'CART_ADD_ITEM': {\n            \n            //add to cart\n            const newItem = action.payload;\n            const existItem = state.cart.cartItems.find((item) => item._id === newItem._id);\n            const cartItems = existItem ? state.cart.cartItems.map((item) => item._id === existItem._id ? newItem : item) : [...state.cart.cartItems, newItem];\n            localStorage.setItem('cartItems', JSON.stringify(cartItems));\n            return { ...state, cart: { ...state.cart, cartItems } };\n        }\n\n        case 'WISH_ADD_ITEM': {\n            //add to wish\n            const newItem = action.payload;\n            const existItem = state.wish.wishItems.find((item) => item._id === newItem._id);\n            const wishItems = existItem ? state.wish.wishItems.map((item) => item._id === existItem._id ? newItem : item) : [...state.wish.wishItems, newItem];\n            localStorage.setItem('wishItems', JSON.stringify(wishItems));\n            return {...state, wish: {...state.wish, wishItems: [...state.wish.wishItems, action.payload]}};\n            }\n\n        case 'CART_REMOVE_ITEM': {\n            const cartItems = state.cart.cartItems.filter((item) => item._id !== action.payload._id);\n            localStorage.setItem('cartItems', JSON.stringify(cartItems));\n            return { ...state, cart: { ...state.cart, cartItems } };\n        }\n\n        case 'CART_CLEAR':\n            return { ...state, cart: { ...state.cart, cartItems: [] } };\n\n        case 'WISH_REMOVE_ITEM': {\n            const wishItems = state.wish.wishItems.filter((item) => item._id !== action.payload._id);\n            localStorage.setItem('wishItems', JSON.stringify(wishItems));\n            return { ...state, wish: { ...state.wish, wishItems } };\n        }\n\n        default:\n            return state;\n    }\n}\n\nexport function StoreProvider(props) {\n    const[state, dispatch] = useReducer(reducer, initialState);\n    const value = {state, dispatch};\n\n    return <Store.Provider value={value}>{props.children}</Store.Provider>\n\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}