{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ali Hamza\\\\Desktop\\\\nabeel_blo\\\\frontend\\\\src\\\\components\\\\productdetails\\\\ProductDetails.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useContext, useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Store } from '../../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart\n  } = state;\n  const existUser = localStorage.getItem(\"userInfo\");\n  const [product, setProduct] = useState([]);\n  const params = useParams();\n  const {\n    slug\n  } = params;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        console.log(result.data);\n        setProduct(result.data);\n      } catch (err) {\n        console.log(\"Error!\");\n      }\n    };\n    fetchData();\n  }, [slug]);\n  const addToCart = () => {\n    if (!existUser) {\n      window.alert('Sorry. You must login.');\n    } else {\n      const existItem = cart.cartItems.find(x => x._id === product._id);\n      const quantity = existItem ? existItem.quantity + 1 : 1; // if exists in cart than quantity + 1, if not than 1\n\n      ctxDispatch({\n        type: 'CART_ADD_ITEM',\n        payload: {\n          ...product,\n          quantity\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.image,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `../seller/${product.sellerId}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"seller-product\",\n          src: product.sellerImage,\n          alt: product.seller\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"product-title\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"category\",\n          children: product.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"price\",\n          children: [\"Price: $\", Number(product.price).toFixed(2), \"/kg\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"desc\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-add\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addToCart,\n          children: \"Add to Bag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"xbSY/YiT6oDU1Td00oNKV6VHOSs=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","Link","useParams","Store","ProductDetails","state","dispatch","ctxDispatch","cart","existUser","localStorage","getItem","product","setProduct","params","slug","fetchData","result","get","console","log","data","err","addToCart","window","alert","existItem","cartItems","find","x","_id","quantity","type","payload","image","name","sellerId","sellerImage","seller","category","Number","price","toFixed","description"],"sources":["C:/Users/Ali Hamza/Desktop/nabeel_blo/frontend/src/components/productdetails/ProductDetails.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useContext, useEffect } from 'react'\nimport { useState } from 'react';\nimport { Link, useParams } from 'react-router-dom'\nimport { Store } from '../../Store';\n\nconst ProductDetails = () => {\n\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const {cart} = state;\n\n  const existUser = localStorage.getItem(\"userInfo\");\n    \n    const [product, setProduct] = useState([]);\n\n    const params = useParams();\n    const {slug} = params;\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n        \n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        console.log(result.data);\n        setProduct(result.data)\n      } catch(err) {\n        console.log(\"Error!\");\n      }\n      \n    }\n    fetchData();\n\n  }, [slug]);\n\n  const addToCart = () => {\n\n    if(!existUser) {\n      window.alert('Sorry. You must login.');\n    } else { \n\n      const existItem = cart.cartItems.find((x) => x._id === product._id);\n      const quantity = existItem ? existItem.quantity + 1 : 1; // if exists in cart than quantity + 1, if not than 1\n\n\n      ctxDispatch({\n          type: 'CART_ADD_ITEM',\n          payload: { ...product, quantity },\n      });\n\n    }\n\n    \n\n  } \n    \n\n  return (\n    <div className='product-row'>\n        <div className=\"product-col\">\n            <img src={product.image} alt={product.name} />\n            <Link to={`../seller/${product.sellerId}`}><img className='seller-product' src={product.sellerImage} alt={product.seller} /></Link>\n        </div>\n        <div className=\"product-col\">\n            <div className=\"product-info\">\n                <h2 className=\"product-title\">{product.name}</h2>\n                <span className=\"category\">{product.category}</span>\n            </div>\n            <div className=\"product-info\">\n                <span className=\"price\">Price: ${Number(product.price).toFixed(2)}/kg</span>\n                <span className='desc'>{product.description}</span>\n            </div>\n            <div className=\"product-add\">\n                <button onClick={addToCart}>Add to Bag</button>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default ProductDetails\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}